<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Jekyll v4.0.0" /><meta property="og:title" content="Improving iOS performance with Xcode and Instruments for dummies" /><meta name="author" content="Alex" /><meta property="og:locale" content="en_US" /><meta name="description" content="Don‚Äôt know where to start? Try this" /><meta property="og:description" content="Don‚Äôt know where to start? Try this" /><link rel="canonical" href="https://getaclue.me/improving-ios-performance-with-xcode-and-instruments-for-dummies" /><meta property="og:url" content="https://getaclue.me/improving-ios-performance-with-xcode-and-instruments-for-dummies" /><meta property="og:site_name" content="Alex" /><meta property="og:image" content="https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-03-24T00:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:image" content="https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd" /><meta property="twitter:title" content="Improving iOS performance with Xcode and Instruments for dummies" /><meta name="twitter:site" content="@lastminutealex" /><meta name="twitter:creator" content="@lastminutealex" /><meta name="google-site-verification" content="j_0ua6jd1va4oFzra32KpYStOsNq9Ve98QboLI-LAN0" /> <script type="application/ld+json"> {"headline":"Improving iOS performance with Xcode and Instruments for dummies","dateModified":"2018-03-24T00:00:00-04:00","datePublished":"2018-03-24T00:00:00-04:00","image":"https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd","author":{"@type":"Person","name":"Alex"},"description":"Don‚Äôt know where to start? Try this","url":"https://getaclue.me/improving-ios-performance-with-xcode-and-instruments-for-dummies","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://getaclue.me/improving-ios-performance-with-xcode-and-instruments-for-dummies"},"@context":"https://schema.org"}</script><title> Improving iOS performance with Xcode and Instruments for dummies - Alex</title><link rel="shortcut icon" href="/favicon.png" /><link rel="alternate" type="application/atom+xml" title="Alex" href="/atom.xml" /><link rel="alternate" type="application/json" title="Alex" href="https://getaclue.me/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /><meta name="google-site-verification" content="j_0ua6jd1va4oFzra32KpYStOsNq9Ve98QboLI-LAN0" /><link rel="canonical" href="https://getaclue.me/improving-ios-performance-with-xcode-and-instruments-for-dummies" /><meta name="description" content="Don't know where to start? Try this" /><meta property="og:title" content="Improving iOS performance with Xcode and Instruments for dummies" /><meta property="og:url" content="https://getaclue.me/improving-ios-performance-with-xcode-and-instruments-for-dummies" /><meta property="og:site_name" content="https://getaclue.me/improving-ios-performance-with-xcode-and-instruments-for-dummies" /><meta property="og:description" content="Don't know where to start? Try this" /><meta property="og:locale" content="en_US" /><meta name="twitter:description" content="Don't know where to start? Try this" /><meta property="og:type" content="article" /><meta name="twitter:card" content="summary_large_image" /><meta property="og:image" content="https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd" /><meta name="twitter:image" content="https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd" /><meta property="article:tag" content="software development" /><meta property="article:tag" content="software engineering" /><meta property="article:tag" content="tutorial" /><meta name="author" content="Alex Kluew" /><meta property="article:author" content="https://getaclue.me" /><meta property="article:publisher" content="https://getaclue.me" /><meta property="article:published_time" content="2018-03-24 16:54:31 +0000" /><meta property="article:modified_time" content="2018-03-30 09:16:24 +0000" /><meta property="og:type" content="website" /><meta name="twitter:title" content="Alex" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@" /><link href="/assets/tailwind.css" rel="stylesheet"> <script> // Google Analytics (function(i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; (i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments); }), (i[r].l = 1 * new Date()); (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]); a.async = 1; a.src = g; m.parentNode.insertBefore(a, m); })( window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga' ); ga('create', 'UA-106794469-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script></head><body class="leading-normal tracking-normal text-white gradient bg-gray-100"><nav id="header" class="fixed w-full z-30 top-0 text-black bg-white"><div class="w-full container mx-auto flex flex-wrap items-center justify-between mt-0 py-2"><div class="pl-4 flex items-center"> <a class="toggleColour text-black no-underline hover:no-underline font-bold text-2xl lg:text-4xl" href="/"> ‚ö°Ô∏è Getaclue </a></div><div class="block lg:hidden pr-4"> <button id="nav-toggle" class="flex items-center p-1 text-pink-800 hover:text-gray-900 focus:outline-none focus:shadow-outline transform transition hover:scale-105 duration-300 ease-in-out"> <svg class="fill-current h-6 w-6" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" /> </svg> </button></div><div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden mt-2 lg:mt-0 bg-white lg:bg-transparent text-black p-4 lg:p-0 z-20" id="nav-content"><ul class="list-reset lg:flex justify-end flex-1 items-center"><li class="mr-3"> <a class="toggleColour text-black inline-block py-2 px-4 font-bold no-underline" href="/">Home</a></li><li class="mr-3"> <a class="toggleColour text-black inline-block no-underline hover:text-gray-800 hover:text-underline py-2 px-4" href="/about">About</a></li><li class="mr-3"> <a class="toggleColour text-black inline-block no-underline hover:text-gray-800 hover:text-underline py-2 px-4" href="/articles">Articles</a></li><li class="mr-3"> <a class="toggleColour text-black inline-block no-underline hover:text-gray-800 hover:text-underline py-2 px-4" href="/books">Books</a></li><li class="mr-3"> <a class="toggleColour text-black inline-block no-underline hover:text-gray-800 hover:text-underline py-2 px-4" href="/projects">Projects</a></li><li class="mr-3"> <a class="toggleColour text-black inline-block no-underline hover:text-gray-800 hover:text-underline py-2 px-4" href="/services">Services</a></li></ul><a href="/now" id="navAction" class="mx-auto lg:mx-0 hover:underline bg-white text-gray-800 font-bold rounded-full mt-4 lg:mt-0 py-4 px-8 shadow opacity-75 focus:outline-none focus:shadow-outline transform transition hover:scale-105 duration-300 ease-in-out"> Let's Chat </a></div></div></nav><div class="container w-full md:max-w-3xl mx-auto pt-20"><div class="w-full px-4 md:px-6 text-xl text-gray-800 leading-normal"> <!--Post Content--><link rel="stylesheet" href="https://unpkg.com/@tailwindcss/typography@0.2.x/dist/typography.min.css" /> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BlogPosting", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://google.com/article" }, "headline": "Don't know where to start? Try this", "image": { "@type": "ImageObject", "url": "https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd" }, "author": { "@type": "Person", "name": "Alex Kluew" }, "datePublished": "2018-03-24 16:54:31 +0000" , "dateModified": "2018-03-30 09:16:24 +0000" } </script><article class="prose lg:prose-xl" itemscope itemtype="http://schema.org/BlogPosting"><p class="text-base md:text-sm text-green-500 font-bold">&lt; <a href="/articles" class="text-base md:text-sm text-green-500 font-bold no-underline hover:underline">BACK TO ARTICLES</a></p><h1 itemprop="name headline" class="text-center font-bold font-sans break-normal text-gray-900 pt-6 pb-2 text-3xl md:text-4xl">Improving iOS performance with Xcode and Instruments for dummies</h1><p class="text-center text-sm md:text-base font-normal text-gray-600" title="Estimated reading time"> Estimated reading time: 7 mins</p><div itemprop="articleBody"><p><img src="https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd" alt="Image for the post" /></p><p>Hi friend, is your app running a bit slow? Are you, perhaps, unsure what to do about it? Where do you start to investigate? Perhaps, like me, you started searching üïµÔ∏è‚ÄçÔ∏è in your code for something evident? (Only to realize that you are going down a never ending rabbit hole?)</p><p>Well, stress not my friend because Xcode got you covered ‚úÖ and it will help you find your issues (or put you on the right track at least).</p><p>This is a second article that I am writing about an Integrated Development Environment (IDE). The more that I use Xcode, the more I like it üòé Xcode is really, really awesome. Just give it a try and use it.</p><blockquote><p>Side note: it <em>only</em> took me 182 hours to get to the Instruments panel.</p></blockquote><p>I‚Äôm actually really surprised at the amount of tooling that is given to you in this wonderful IDE. My software engineering training gave me my introduction to IDEs via <a href="https://www.eclipse.org/ide/">Eclipse</a> and <a href="https://netbeans.org/">NetBeans</a>. I‚Äôve spent years using those tools (and don‚Äôt get me wrong, they are powerful). But to be completely honest, to this day I will pick anything else but these two. They are ugly, clunky, and not intuitive üå∂</p><h2 id="why-did-i-type-that-paragraph-above">Why did I type that paragraph above?</h2><p>Because if you have an aversion to IDEs and think that Xcode looks just like the other IDEs, then I am here to tell you that it really is not. Xcode <em>IS</em> a pleasure to use and I use it every day. (<em>PS</em>: If you are getting angry while reading this and saying <strong>!?Xcode sucks!?</strong> Don‚Äôt get so upset. I will admit, it is not perfect.)</p><h2 id="instruments">Instruments</h2><p>It is this powerful thingy, built on top of <a href="https://en.wikipedia.org/wiki/DTrace">DTrace</a>, that comes with Xcode. No need to install extra software. Just download Xcode once and you have everything you need. Don‚Äôt have internet connection or you don‚Äôt want to be connected? No worries, you can still DO your work.</p><p>Oh yeah‚Ä¶ I used <a href="https://www.youtube.com/watch?v=s_SOYcYBnGU">this wonderful youtube video</a> to get an introduction to Instruments. Apple ofcourse has their own documentation which you can get <a href="https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/index.html">here</a>.</p><p>The following text is basically my brief overview of Instruments.</p><p>When you open Instruments, it looks like this:</p><p><img src="https://d.pr/i/c280xV+" alt="Xcode Instruments" /></p><p>You can launch Instruments like this:</p><p><img src="https://d.pr/i/QiJqRR+" alt="Opening Xcode instruments open" /></p><p>Or like this:</p><p><img src="https://d.pr/i/PtBZgx+" alt="Opening Xcode Instruments" /></p><p>(I didn‚Äôt want to leave you waiting while my slow computer takes its time to compile and open up‚Ä¶ but you get the idea)</p><p>What you do next is kind of interesting. All of the icons that you see above represent the different kinds of tool that you can run on your application. (I think of this screen as a collection of apps for your app). Hopefully you will understand why I say <em>on</em> your application.</p><p>Out of all of the available options, I‚Äôve only gotten familiar with Activity Monitor, Allocations, Leaks, and Time Profiler. Oh yes, not only are these tools wonderful but the naming conventions are intuitive and grouped by colour. Amazing.</p><p>Activity Monitor and Time Profiler are in blue. These blue thingys are used to monitor CPU stuffs.</p><p>Allocations and Leaks are in orange. These orange thingys are used to monitor memory stuff. (Guess what this other orange Zombies thingy looks at? Did you guess RAM stuffs? Cool right!!!)</p><p>You might be wondering to yourself‚Ä¶ all of these thingsys are cool sounding, so what? What do I do with them? Well the cool thing about these thingys is that you can just JUMP in and you will figure things out as you go. It is that easy.</p><p>I suggest that you play with the other tools available. I am going to focus on the Time Profiler for the rest of this article. At this point in the learning, I found it to be the most useful for me.</p><p>Time Profiler - I‚Äôve been using this for‚Ä¶profiling‚Ä¶ time? ü§∑‚Äç Basically, I open it up and it looks like this:</p><p><img src="https://d.pr/i/yRulLi+" alt="Time Profiler in Xcode" /></p><p>You might be asking, now what? How about we hit that big Red Record button ‚è∫ ? Yup, and it will look like this:</p><p><img src="https://d.pr/i/zElUrI+" alt="Time Profiler after hitting record button in Xcode" /></p><h2 id="now-what-">Now what? ü§î</h2><p>Now you use your app! What Instruments, or should I say Time Profiler, does in the background is it samples your environment‚Ä¶ Time Profiler <em>records</em> what it sees your app is doing during a specific time interval. Makes sense?</p><p>And if you have ever used software that has some kind of manipulation of a timeline, then you will be just fine.</p><p>So this is a <em>snapshot</em> of how your app behaves, or its environment: <img src="https://d.pr/i/GPnnjB+" alt="Time Profiler Sample in Xcode" /></p><p>time profiler records many such samples at a regular interval over time: <img src="https://d.pr/i/cEMzNa+" alt="Time Profiler time line in Xcode" /></p><p>until you press the stop button ofcourse: <img src="https://d.pr/i/A5InKH+" alt="Time Profiler from start to stop in Xcode" /></p><h2 id="now-what--1">Now what? ü§î</h2><p>Now you get to take off your developer hat üé© and play a detective üïµÔ∏è‚Äç ‚Ä¶ for real‚Ä¶ how cool is that?</p><p>Since we are exploring the Timing Profiler, we are interesting in timing. You can open up (expand) the tree, that Xcode conveniently made for you, and go exploring üó∫. See which areas or which methods in your code take a long time. It very simple. Just click expand ‚è¨ and dive üèä‚Äç in: <img src="https://d.pr/i/KohUC7+" alt="Start exploring Time Profiler in Xcode" /></p><h2 id="dont-know-where-to-start-try-this">Don‚Äôt know where to start? Try this:</h2><ol><li>Click record</li><li>Play with you app as regular user (try various uses case)</li><li>Stop the recording</li><li>And then‚Ä¶ you can filter specific time intervals!! How cool is that?!?!?!</li></ol><p>Here is an example of me recording as I create a new to-do in <a href="https://dailyvibes.ca/">dailyvibes</a> and then filtering various time intervals. You can really isolate the various time intervals, like so:</p><p><img src="https://d.pr/i/MDyrNo+" alt="Example of using Time Profiler in Xcode" /></p><p>As you can see, to filter you simple Click and Drag on the timeline‚Ä¶ just like any other application with a timeline. It is just that simple. And, when you filter, if you notice, the tree changes. Thus you can really get into the nitty gritty details and find out your problems üöß.</p><p>Oh, and‚Ä¶ and‚Ä¶ and you can SAVE this sampling and come back to it later: <img src="https://d.pr/i/QP4X3Z+" alt="Saving Time Profiler in Xcode" /></p><p>Here is an actual example of me diving deep into the tree üå≤. When you find something juicy, like this: <img src="https://d.pr/i/G4H042+" alt="Example of Time Profiler in Xcode" /></p><p>You can‚Ä¶ double click on the method, and it will show you EXACTLY which lines üëÄ of code that may be troubling: <img src="https://d.pr/i/IOa6qa+" alt="Double clicking on a method in Time Profiler in Xcode" /></p><h2 id="conclusion">Conclusion</h2><p>There you have it friends. I‚Äôd like you to take away three things from this:</p><ul><li>Xcode is pretty awesome üî•</li><li>Be a digital detective üïµÔ∏è‚Äç and give Instruments a try</li><li>Be careful ‚ùå of premature optimization</li></ul><p>If you liked this, please let me know. I like hearing feedback so I can improve. You can find me on <a href="https://twitter.com/getaclue_1">twitters</a>.</p><p>Until next time,</p><p>Alex</p><p>PS: I hope I did not offend you with the *for dummies tagline. I love technical documents but I feel like they need a bit of flavour sometimes. I simply want this technical mumbo-jumbo to feel relatable and friendly.</p><p>Update: This article was also posted on <a href="https://medium.com/@getaclue_1/improving-ios-performance-with-xcode-and-instruments-for-dummies-b42a731b5240">medium</a></p></div><span class="meta" ><time itemprop="datePublished" datetime="2018-03-24T00:00:00-04:00" >March 24, 2018</time > &middot; <a href="/tag/software development">software development</a>, <a href="/tag/software engineering">software engineering</a>, <a href="/tag/tutorial">tutorial</a></span ><hr style="border: 5px solid #2ed7fb;" /> <!--Next & Prev Links--><div class="font-sans flex justify-between content-center px-4 pb-12"><div class="text-left"> <span class="text-xs md:text-sm font-normal text-gray-600">&lt; Previous Article</span><br><p><a href="/javascript-in-xcode" title="How to call Javascript debugger from Xcode? Can you?" class="break-normal text-base md:text-sm text-green-500 font-bold no-underline hover:underline">üëà How to call Javascript debugger from Xcode? Can you?</a></p></div><div class="text-right"> <span class="text-xs md:text-sm font-normal text-gray-600">Next Post &gt;</span><br><p><a href="/clean-status-bar-fastlane-simulatorstatusmagic" title="How to make perfect iOS screenshots with a clean status bar in 2018" class="break-normal text-base md:text-sm text-green-500 font-bold no-underline hover:underline">How to make perfect iOS screenshots with a clean status bar in 2018 üëâ</a></p></div></div></article><!--/ Post Content--></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-106794469-1" ></script> <script> function gtag() { dataLayer.push(arguments); } (window.dataLayer = window.dataLayer || []), gtag("js", new Date()), gtag("config", "UA-106794469-1", { anonymize_ip: !0 }); </script> <script> var scrollpos = window.scrollY; var header = document.getElementById("header"); var navcontent = document.getElementById("nav-content"); var navaction = document.getElementById("navAction"); var brandname = document.getElementById("brandname"); var toToggle = document.querySelectorAll(".toggleColour"); document.addEventListener("scroll", function () { /*Apply classes for slide in bar*/ scrollpos = window.scrollY; if (scrollpos > 10) { header.classList.add("bg-white"); navaction.classList.remove("bg-white"); navaction.classList.add("gradient"); navaction.classList.remove("text-gray-800"); navaction.classList.add("text-white"); //Use to switch toggleColour colours for (var i = 0; i < toToggle.length; i++) { toToggle[i].classList.add("text-gray-800"); toToggle[i].classList.remove("text-white"); } header.classList.add("shadow"); navcontent.classList.remove("bg-gray-100"); navcontent.classList.add("bg-white"); } else { header.classList.remove("bg-white"); navaction.classList.remove("gradient"); navaction.classList.add("bg-white"); navaction.classList.remove("text-white"); navaction.classList.add("text-gray-800"); //Use to switch toggleColour colours for (var i = 0; i < toToggle.length; i++) { toToggle[i].classList.add("text-white"); toToggle[i].classList.remove("text-gray-800"); } header.classList.remove("shadow"); navcontent.classList.remove("bg-white"); navcontent.classList.add("bg-gray-100"); } }); </script> <script> /*Toggle dropdown list*/ /*https://gist.github.com/slavapas/593e8e50cf4cc16ac972afcbad4f70c8*/ var navMenuDiv = document.getElementById("nav-content"); var navMenu = document.getElementById("nav-toggle"); document.onclick = check; function check(e) { var target = (e && e.target) || (event && event.srcElement); //Nav Menu if (!checkParent(target, navMenuDiv)) { // click NOT on the menu if (checkParent(target, navMenu)) { // click on the link if (navMenuDiv.classList.contains("hidden")) { navMenuDiv.classList.remove("hidden"); } else { navMenuDiv.classList.add("hidden"); } } else { // click both outside link and outside menu, hide menu navMenuDiv.classList.add("hidden"); } } } function checkParent(t, elm) { while (t.parentNode) { if (t == elm) { return true; } t = t.parentNode; } return false; } </script></body></html>
