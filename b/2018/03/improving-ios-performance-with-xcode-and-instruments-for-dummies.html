<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Improving iOS performance with Xcode and Instruments for dummies - getaclue.me</title>

  <!-- some help for the jekyll magic from https://aramzs.github.io/jekyll/social-media/2015/11/11/be-social-with-jekyll.html -->

  
  <meta name="google-site-verification" content="j_0ua6jd1va4oFzra32KpYStOsNq9Ve98QboLI-LAN0" />
  

  <link rel="canonical" href="https://getaclue.me/b/2018/03/improving-ios-performance-with-xcode-and-instruments-for-dummies">
  <meta name="description" content="Don't know where to start? Try this" />
  <meta property="og:title" content="Improving iOS performance with Xcode and Instruments for dummies">

  <meta property="og:url" content="https://getaclue.me/b/2018/03/improving-ios-performance-with-xcode-and-instruments-for-dummies" />
  <meta property="og:site_name" content="https://getaclue.me/b/2018/03/improving-ios-performance-with-xcode-and-instruments-for-dummies" />

  <meta property="og:description" content="Don't know where to start? Try this" />
  <meta property="og:locale" content="en_US" />

  <meta name="twitter:description" content="Don't know where to start? Try this">

  
  <meta property="og:type" content="article" />
  
  <meta property="og:image" content="https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd" />
  <meta name="twitter:image" content="https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd" />
  
  
  <meta property="article:tag" content="iOS" />
  
  <meta property="article:tag" content="swift" />
  
  <meta property="article:tag" content="Software Development" />
  
  <meta property="article:tag" content="iOS App Development" />
  
  <meta property="article:tag" content="Mobile App Development" />
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@alexkluew">
  <meta name="twitter:creator" content="@alexkluew">
  <meta name="twitter:title" content="Improving iOS performance with Xcode and Instruments for dummies - getaclue.me">

  <meta name="author" content="Alex Kluew">
  <meta property="article:author" content="https://getaclue.me" />
  <meta property="article:publisher" content="https://getaclue.me" />

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://google.com/article"
      },
      "headline": "Don't know where to start? Try this",
      "image": {
        "@type": "ImageObject",
        "url": "https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd"
      },
      "author": {
        "@type": "Person",
        "name": "Alex Kluew"
      },
      "datePublished": "2018-03-24 16:54:31 +0000"
      
      , "dateModified": "2018-03-30 09:16:24 +0000"
      
      
    }
    </script>
  <meta property="article:published_time" content="2018-03-24 16:54:31 +0000" />
  
  <meta property="article:modified_time" content="2018-03-30 09:16:24 +0000" />
  
  

  <link rel="icon" type="image/png" href="/assets/favicon.png">
  <link rel="stylesheet" href="/assets/main.css">
  <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"> -->
<!-- <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script> -->
<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script> -->

  <link rel="alternate" type="application/rss+xml" title="Alex Kluew" href="/feed.xml">
  
  <script>
  // Google Analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-106794469-1', 'auto');
  ga('set', 'anonymizeIp', true)
  ga('send', 'pageview');
</script>

  
</head>


<body class="not-apple">
  <style>
    .not-content-wrapper {
      /* background-color: rgba(242, 242, 242, 1); */
      /* margin: 0 auto; */
      /* width: 980px; */
      height: 100%;
    }

    .not-header-text {
      /* font-size: 1.1em;
      margin: 0 auto;
      padding-top: 6px;
      vertical-align: middle;
      float: left; */
      display: flex;
      align-items: center;
      justify-content: space-evenly;
      height: 100%;
    }

    .not-header-text a {
      color: rgba(255, 255, 255, 1);
      text-decoration: none;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
      text-transform: uppercase;
      font-size: 10px;
    }
  </style>
  <header class="not-header" role="banner">
    <div class="not-content-wrapper">
      <div class="not-header-text">
        <a href="/">Home</a>
        <a href="/about" class="a-page-link ">About</a>
        <a href="/projects" class="a-page-link ">Projects</a>
      </div>
    </div>
  </header>
  <main class="page-content" aria-label="Content">
    <div style="display:flex;align-items: center;justify-content: center;">
      <article class="not-post" itemscope itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
          <h1 class="post-title" itemprop="name headline"><a href="/b/2018/03/improving-ios-performance-with-xcode-and-instruments-for-dummies">Improving iOS performance with Xcode and Instruments for dummies</a></h1>
          <p class="post-meta">
            <time datetime="2018-03-24T00:00:00-04:00" itemprop="datePublished">
              
              Mar 24, 2018
            </time> | <a href="https://twitter.com/home?status=Hey%20%40alexkluew%20your%20site%20is%20broken%20/b/2018/03/improving-ios-performance-with-xcode-and-instruments-for-dummies" target="_blank" class="forkButton"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
 Report a bug via Twitter</a>

          </p>
          <p class="post-meta">
            <!-- https://carlosbecker.com/posts/jekyll-reading-time-without-plugins/ -->
<span class="reading-time" title="Estimated read time">
  
  
    <em>estimated 7 mins to read</em>
  
</span>

          </p>
        </header>

        <div class="post-content" itemprop="articleBody">
          <p><img src="https://cdn-pro.dprcdn.net/files/acc_603419/eVxYjd" alt="Image for the post" /></p>

<p>Hi friend, is your app running a bit slow? Are you, perhaps, unsure what to do about it? Where do you start to investigate? Perhaps, like me, you started searching üïµÔ∏è‚ÄçÔ∏è in your code for something evident? (Only to realize that you are going down a never ending rabbit hole?)</p>

<p>Well, stress not my friend because Xcode got you covered ‚úÖ and it will help you find your issues (or put you on the right track at least).</p>

<p>This is a second article that I am writing about an Integrated Development Environment (IDE). The more that I use Xcode, the more I like it üòé Xcode is really, really awesome. Just give it a try and use it.</p>

<blockquote>
  <p>Side note: it <em>only</em> took me 182 hours to get to the Instruments panel.</p>
</blockquote>

<p>I‚Äôm actually really surprised at the amount of tooling that is given to you in this wonderful IDE. My software engineering training gave me my introduction to IDEs via <a href="https://www.eclipse.org/ide/">Eclipse</a> and <a href="https://netbeans.org/">NetBeans</a>. I‚Äôve spent years using those tools (and don‚Äôt get me wrong, they are powerful). But to be completely honest, to this day I will pick anything else but these two. They are ugly, clunky, and not intuitive üå∂</p>

<h2 id="why-did-i-type-that-paragraph-above">Why did I type that paragraph above?</h2>

<p>Because if you have an aversion to IDEs and think that Xcode looks just like the other IDEs, then I am here to tell you that it really is not. Xcode <em>IS</em> a pleasure to use and I use it every day. (<em>PS</em>: If you are getting angry while reading this and saying <strong>!?Xcode sucks!?</strong> Don‚Äôt get so upset. I will admit, it is not perfect.)</p>

<h2 id="instruments">Instruments</h2>

<p>It is this powerful thingy, built on top of <a href="https://en.wikipedia.org/wiki/DTrace">DTrace</a>, that comes with Xcode. No need to install extra software. Just download Xcode once and you have everything you need. Don‚Äôt have internet connection or you don‚Äôt want to be connected? No worries, you can still DO your work.</p>

<p>Oh yeah‚Ä¶ I used <a href="https://www.youtube.com/watch?v=s_SOYcYBnGU">this wonderful youtube video</a> to get an introduction to Instruments. Apple ofcourse has their own documentation which you can get <a href="https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/index.html">here</a>.</p>

<p>The following text is basically my brief overview of Instruments.</p>

<p>When you open Instruments, it looks like this:</p>

<p><img src="https://d.pr/i/c280xV+" alt="Xcode Instruments" /></p>

<p>You can launch Instruments like this:</p>

<p><img src="https://d.pr/i/QiJqRR+" alt="Opening Xcode instruments open" /></p>

<p>Or like this:</p>

<p><img src="https://d.pr/i/PtBZgx+" alt="Opening Xcode Instruments" /></p>

<p>(I didn‚Äôt want to leave you waiting while my slow computer takes its time to compile and open up‚Ä¶ but you get the idea)</p>

<p>What you do next is kind of interesting. All of the icons that you see above represent the different kinds of tool that you can run on your application. (I think of this screen as a collection of apps for your app). Hopefully you will understand why I say <em>on</em> your application.</p>

<p>Out of all of the available options, I‚Äôve only gotten familiar with Activity Monitor, Allocations, Leaks, and Time Profiler. Oh yes, not only are these tools wonderful but the naming conventions are intuitive and grouped by colour. Amazing.</p>

<p>Activity Monitor and Time Profiler are in blue. These blue thingys are used to monitor CPU stuffs.</p>

<p>Allocations and Leaks are in orange. These orange thingys are used to monitor memory stuff. (Guess what this other orange Zombies thingy looks at? Did you guess RAM stuffs? Cool right!!!)</p>

<p>You might be wondering to yourself‚Ä¶ all of these thingsys are cool sounding, so what? What do I do with them? Well the cool thing about these thingys is that you can just JUMP in and you will figure things out as you go. It is that easy.</p>

<p>I suggest that you play with the other tools available. I am going to focus on the Time Profiler for the rest of this article. At this point in the learning, I found it to be the most useful for me.</p>

<p>Time Profiler - I‚Äôve been using this for‚Ä¶profiling‚Ä¶ time? ü§∑‚Äç Basically, I open it up and it looks like this:</p>

<p><img src="https://d.pr/i/yRulLi+" alt="Time Profiler in Xcode" /></p>

<p>You might be asking, now what? How about we hit that big Red Record button ‚è∫ ? Yup, and it will look like this:</p>

<p><img src="https://d.pr/i/zElUrI+" alt="Time Profiler after hitting record button in Xcode" /></p>

<h2 id="now-what-">Now what? ü§î</h2>

<p>Now you use your app! What Instruments, or should I say Time Profiler, does in the background is it samples your environment‚Ä¶ Time Profiler <em>records</em> what it sees your app is doing during a specific time interval. Makes sense?</p>

<p>And if you have ever used software that has some kind of manipulation of a timeline, then you will be just fine.</p>

<p>So this is a <em>snapshot</em> of how your app behaves, or its environment:
<img src="https://d.pr/i/GPnnjB+" alt="Time Profiler Sample in Xcode" /></p>

<p>time profiler records many such samples at a regular interval over time:
<img src="https://d.pr/i/cEMzNa+" alt="Time Profiler time line in Xcode" /></p>

<p>until you press the stop button ofcourse:
<img src="https://d.pr/i/A5InKH+" alt="Time Profiler from start to stop in Xcode" /></p>

<h2 id="now-what--1">Now what? ü§î</h2>

<p>Now you get to take off your developer hat üé© and play a detective üïµÔ∏è‚Äç ‚Ä¶ for real‚Ä¶ how cool is that?</p>

<p>Since we are exploring the Timing Profiler, we are interesting in timing. You can open up (expand) the tree, that Xcode conveniently made for you, and go exploring üó∫. See which areas or which methods in your code take a long time. It very simple. Just click expand ‚è¨ and dive üèä‚Äç in:
<img src="https://d.pr/i/KohUC7+" alt="Start exploring Time Profiler in Xcode" /></p>

<h2 id="dont-know-where-to-start-try-this">Don‚Äôt know where to start? Try this:</h2>

<ol>
  <li>Click record</li>
  <li>Play with you app as regular user (try various uses case)</li>
  <li>Stop the recording</li>
  <li>And then‚Ä¶ you can filter specific time intervals!! How cool is that?!?!?!</li>
</ol>

<p>Here is an example of me recording as I create a new to-do in <a href="https://dailyvibes.ca/">dailyvibes</a> and then filtering various time intervals.
You can really isolate the various time intervals, like so:</p>

<p><img src="https://d.pr/i/MDyrNo+" alt="Example of using Time Profiler in Xcode" /></p>

<p>As you can see, to filter you simple Click and Drag on the timeline‚Ä¶ just like any other application with a timeline. It is just that simple. And, when you filter, if you notice, the tree changes. Thus you can really get into the nitty gritty details and find out your problems üöß.</p>

<p>Oh, and‚Ä¶ and‚Ä¶ and you can SAVE this sampling and come back to it later:
<img src="https://d.pr/i/QP4X3Z+" alt="Saving Time Profiler in Xcode" /></p>

<p>Here is an actual example of me diving deep into the tree üå≤. When you find something juicy, like this:
<img src="https://d.pr/i/G4H042+" alt="Example of Time Profiler in Xcode" /></p>

<p>You can‚Ä¶ double click on the method, and it will show you EXACTLY which lines üëÄ of code that may be troubling:
<img src="https://d.pr/i/IOa6qa+" alt="Double clicking on a method in Time Profiler in Xcode" /></p>

<h2 id="conclusion">Conclusion</h2>

<p>There you have it friends. I‚Äôd like you to take away three things from this:</p>

<ul>
  <li>Xcode is pretty awesome üî•</li>
  <li>Be a digital detective üïµÔ∏è‚Äç and give Instruments a try</li>
  <li>Be careful ‚ùå of premature optimization</li>
</ul>

<p>If you liked this, please let me know. I like hearing feedback so I can improve.
You can find me on <a href="https://twitter.com/getaclue_1">twitters</a>.</p>

<p>Until next time,</p>

<p>Alex</p>

<p>PS: I hope I did not offend you with the *for dummies tagline. I love technical documents but I feel like they need a bit of flavour sometimes. I simply want this technical mumbo-jumbo to feel relatable and friendly.</p>

<p>Update: This article was also posted on <a href="https://medium.com/@getaclue_1/improving-ios-performance-with-xcode-and-instruments-for-dummies-b42a731b5240">medium</a></p>


          <p style="margin-top: 30px" class="side-projects-note">
  <small>Unless otherwise mentioned in the post, those projects are side projects which I work on on weekends and evenings, and are not affiliated with my work or employer.</small>
</p>

        </div>
        <style>
          .not-post-page-navigation {
            display: flex;
            justify-content: space-around;
            margin: 1em;
          }
        </style>
        <div class="not-post-page-navigation">
          
          <a href="/b/2018/03/how-to-call-js-debugger-from-xcode" title="How to call Javascript debugger from Xcode? Can you?">&laquo;
            Previous Essay</a>
          
          
          <a href="/b/2018/03/how-to-make-perfect-ios-screenshots-with-a-clean-status-bar-in-2018-using-fastlane.tools-and-simulatorstatusmagic" title="How to make perfect iOS screenshots with a clean status bar in 2018">Next Essay &raquo;</a>
          
        </div>

        <p class="extra-info">
          
          Tags: software development, software engineering, tutorial &nbsp; | &nbsp;
          
          <a href="https://twitter.com/home?status=Hey%20%40alexkluew%20your%20site%20is%20broken%20/b/2018/03/improving-ios-performance-with-xcode-and-instruments-for-dummies" target="_blank" class="forkButton"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
 Report a bug via Twitter</a>

        </p>
      </article>
    </div>
  </main>

  <footer class="site-footer">
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          <li>
            <a href="https://github.com/getaclue" target="_blank"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">getaclue</span></a>

          </li>
          <li>
            <a href="https://twitter.com/alexkluew" target="_blank"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">alexkluew</span></a>

          </li>
        </ul>
      </div>
    </div>
    <small
      >Another
      <strong>Sugarplum Originals</strong>
      Productions ¬© 2018-2020</small
    >
  </div>
</footer>

<script type="text/javascript">
  var links = document.links;
  for (var i = 0, linksLength = links.length; i < linksLength; i++) {
    if (links[i].hostname != window.location.hostname) {
      links[i].target = "_blank";
    }
  }
</script>


</body>

</html>
