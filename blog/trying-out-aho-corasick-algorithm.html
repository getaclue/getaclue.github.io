<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Trying out Aho–Corasick algorithm - getaclue.me</title>

  <!-- some help for the jekyll magic from https://aramzs.github.io/jekyll/social-media/2015/11/11/be-social-with-jekyll.html -->

  
  <meta name="google-site-verification" content="j_0ua6jd1va4oFzra32KpYStOsNq9Ve98QboLI-LAN0" />
  

  <link rel="canonical" href="https://getaclue.me">
  <meta name="description" content="This solution brought me closer to what I wanted to do and how I wanted to do it." />
  <meta property="og:title" content="Trying out Aho–Corasick algorithm">

  <meta property="og:url" content="https://getaclue.me/blog/trying-out-aho-corasick-algorithm"/>
  <meta property="og:site_name" content="https://getaclue.me/blog/trying-out-aho-corasick-algorithm" />

  <meta property="og:description" content="This solution brought me closer to what I wanted to do and how I wanted to do it."/>
  <meta property="og:locale" content="en_US" />

  <meta name="twitter:description" content="This solution brought me closer to what I wanted to do and how I wanted to do it.">


  <meta property="og:type" content="article" />
  
    <meta name="og:image" content="https://getaclue.me/assets/social-image-banner.png">
    <meta name="twitter:image" content="https://getaclue.me/assets/social-image-banner.png">
  
  
    <meta property="article:tag" content="software engineering" />
  
    <meta property="article:tag" content="algorithms" />
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@getaclue_1">
  <meta name="twitter:creator" content="@getaclue_1">
  <meta name="twitter:title" content="Trying out Aho–Corasick algorithm - getaclue.me">

  <meta name="author" content="Alex Kluew">
  <meta property="article:author" content="https://getaclue.me" />
  <meta property="article:publisher" content="https://getaclue.me" />

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://google.com/article"
      },
      "headline": "This solution brought me closer to what I wanted to do and how I wanted to do it.",
      "image": {
        "@type": "ImageObject",
        "url": "https://getaclue.me/assets/social-image-banner.png"
      },
      "author": {
        "@type": "Person",
        "name": "Alex Kluew"
      },
      "datePublished": "2018-10-09 22:52:01 +0000",
      
      "dateModified": "2018-10-09 22:52:01 +0000"
      
    }
    </script>
    <meta property="article:published_time" content="2018-10-09 22:52:01 +0000" />
    
    <meta property="article:modified_time" content="2018-10-09 22:52:01 +0000" />
    


  <link rel="icon" type="image/png" href="/assets/favicon.png">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="alternate" type="application/rss+xml" title="Alex Kluew" href="/feed.xml">
  
    <script>
  // Google Analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-106794469-1', 'auto');
  ga('set', 'anonymizeIp', true)
  ga('send', 'pageview');
</script>

  
</head>


<body class="not-apple">
  <style>
    .not-content-wrapper {
      /* background-color: rgba(242, 242, 242, 1); */
      /* margin: 0 auto; */
      /* width: 980px; */
      height: 100%;
    }

    .not-header-text {
      /* font-size: 1.1em;
      margin: 0 auto;
      padding-top: 6px;
      vertical-align: middle;
      float: left; */
      display: flex;
      align-items: center;
      justify-content: space-evenly;
      height: 100%;
    }

    .not-header-text a {
      color: rgba(255, 255, 255, 1);
      text-decoration: none;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
      text-transform: uppercase;
      font-size: 10px;
    }
  </style>
  <header class="not-header" role="banner">
    <div class="not-content-wrapper">
      <div class="not-header-text">
        <a href="/">Home</a>
        <a href="/about" class="page-link ">About</a>
        <a href="/projects" class="page-link ">Projects</a>
      </div>
    </div>
  </header>
  <main class="page-content" aria-label="Content">
    <div style="display:flex;align-items: center;justify-content: center;">
      <article class="not-post" itemscope itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
          <h1 class="post-title" itemprop="name headline"><a href="/blog/trying-out-aho-corasick-algorithm">Trying out Aho–Corasick algorithm</a></h1>
          <p class="post-meta">
            <time datetime="2018-10-09T00:00:00-04:00" itemprop="datePublished">
              
              Oct 9, 2018
            </time> | <a href="https://twitter.com/home?status=Hey%20%40getaclue_1%20your%20site%20is%20broken%20/blog/trying-out-aho-corasick-algorithm" target="_blank" class="forkButton"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
 Report a bug via Twitter</a>

          </p>
          <p class="post-meta">
            <!-- https://carlosbecker.com/posts/jekyll-reading-time-without-plugins/ -->
<span class="reading-time" title="Estimated read time">
  
  
    <em>estimated 3 mins to read</em>
  
</span>

          </p>
        </header>

        <div class="post-content" itemprop="articleBody">
          <p>Today I found <a href="https://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_algorithm">Aho–Corasick algorithm</a>. I was instantly hooked on wanting to try it out. Since I am spending more time with Java, most of the day was spent playing with an implementation of this algorithm <em>and maven</em>.</p>

<p>I will tell you what, I was pleasantly surprised so far. I need to spend some more time on this but it looks like a promising solution. I wanted to use something like this on the <a href="https://elderoost.com/">elderoost</a> project. So, here is what my MVP looks like so far.</p>

<p>For this problem I wanted to use a large piece of text as input. For example, I was reading the news earlier and I found a good candidate. I used the following news article as my input:</p>

<blockquote>
  <p>Ontario has promised to add 15,000 new long-term care beds across of the province in the next five years and increasing that to 30,000 in a decade.</p>
</blockquote>

<blockquote>
  <p>Of the 6,000 being put in place immediately, 80 of them will be in Brant County.</p>
</blockquote>

<blockquote>
  <p>“Your government is moving forward quickly to expand access to long-term care beds,” said Christine Elliott, the Deputy Premier and Minister of Health and Long-Term Care in a press release. “”More long-term care beds will help take the pressure off hospitals, end hallway medicine, allow doctors and nurses to work more efficiently and provide faster health care for Ontario patients and their families.”</p>
</blockquote>

<blockquote>
  <p>The 80 beds will be shared between John Noble Home and Fox Ridge Care Community (Sienna Senior Living).</p>
</blockquote>

<blockquote>
  <p>The province has also promised more than 1,100 beds and spaces in hospitals and community settings.</p>
</blockquote>

<blockquote>
  <p>“This is good news for the people of Brantford-Brant,” said MPP Will Bouma in the release.</p>
</blockquote>

<p>which I grabbed from <a href="https://kitchener.ctvnews.ca/brant-county-to-get-80-new-long-term-care-beds-1.4125702">here</a> so you know it is very fresh — <code class="highlighter-rouge">Published Monday, October 8, 2018 5:31PM EDT</code>.</p>

<p>I then ran the MVP implementation against this input, and surprise surprise. I got the expected results of two hits on this article. Not only that, I also have the precise location in the article.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>672:687]<span class="o">=</span>John Noble Home
<span class="o">[</span>692:716]<span class="o">=</span>Fox Ridge Care Community
</code></pre></div></div>

<p>And you know what? This solution brought me closer to what I wanted to do and how I wanted to do it. My previous implementation was using <a href="https://www.elastic.co/">Elasticsearch</a> but I never liked that approach. This is why that solution is not public. It did not seem to meet the requirements that I had and it did not produce repetitive results.</p>

<p>I’m excited spend some more time on this.</p>

<p>Oh yes, almost forgot. I used <a href="https://github.com/hankcs/AhoCorasickDoubleArrayTrie">AhoCorasickDoubleArrayTrie</a> implementation.</p>

<h2 id="maven-frustrations">Maven frustrations</h2>

<p>I’ve spent a minute today trying to sort out maven. Unfortunately, as I dug deeper, I found out that there was a play of two installations. I need to untangle this mess:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$JAVA_HOME</span>
/Users/<span class="nv">$user</span>/.jenv/versions/openjdk64-11
  <span class="nv">$ </span>jenv enable-plugin maven
maven plugin activated
  <span class="nv">$ </span>maven
zsh: <span class="nb">command </span>not found: maven
  <span class="nv">$ </span>mvn
zsh: <span class="nb">command </span>not found: mvn
  <span class="nv">$ </span>jenv <span class="nb">exec </span>maven
jenv: maven: <span class="nb">command </span>not found
  <span class="nv">$ </span>jenv <span class="nb">exec </span>mvn
jenv: mvn: <span class="nb">command </span>not found
</code></pre></div></div>

<h2 id="links">Links</h2>

<p>Today’s random link of the day: <a href="https://xlinux.nist.gov/dads/">Dictionary of Algorithms and Data Structures</a> (DADS).</p>

<ul>
  <li><a href="https://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/">https://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/</a></li>
  <li><a href="https://devcenter.heroku.com/articles/deploy-a-java-web-application-that-launches-with-jetty-runner">https://devcenter.heroku.com/articles/deploy-a-java-web-application-that-launches-with-jetty-runner</a></li>
  <li><a href="https://www.dropwizard.io/1.3.5/docs/getting-started.html">https://www.dropwizard.io/1.3.5/docs/getting-started.html</a></li>
  <li><a href="https://ianlunn.co.uk/articles/quickly-showhide-hidden-files-mac-os-x-mavericks/">https://ianlunn.co.uk/articles/quickly-showhide-hidden-files-mac-os-x-mavericks/</a></li>
  <li><a href="https://github.com/hankcs/HanLP">https://github.com/hankcs/HanLP</a></li>
  <li><a href="http://www.hankcs.com/program/algorithm/aho-corasick-double-array-trie.html">http://www.hankcs.com/program/algorithm/aho-corasick-double-array-trie.html</a></li>
  <li><a href="https://github.com/search?q=ahocorasick">https://github.com/search?q=ahocorasick</a></li>
  <li><a href="https://github.com/maithilish/maven-examples">https://github.com/maithilish/maven-examples</a></li>
  <li><a href="https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000153164-Maven-dependency-in-project-module">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000153164-Maven-dependency-in-project-module</a></li>
  <li><a href="https://github.com/robert-bor/aho-corasick">https://github.com/robert-bor/aho-corasick</a></li>
  <li><a href="https://collectiveidea.com/blog/archives/2015/05/29/how-to-pluck-like-a-rails-pro">https://collectiveidea.com/blog/archives/2015/05/29/how-to-pluck-like-a-rails-pro</a></li>
  <li><a href="https://stackoverflow.com/a/26698176">https://stackoverflow.com/a/26698176</a></li>
  <li><a href="https://xlinux.nist.gov/dads/HTML/stringMatching.html">https://xlinux.nist.gov/dads/HTML/stringMatching.html</a></li>
  <li><a href="https://xlinux.nist.gov/dads/HTML/ahoCorasick.html">https://xlinux.nist.gov/dads/HTML/ahoCorasick.html</a></li>
  <li><a href="https://github.com/cjgdev/aho_corasick">https://github.com/cjgdev/aho_corasick</a></li>
  <li><a href="https://stackoverflow.com/questions/1099985/algorithm-for-multiple-word-matching-in-text/1100010#1100010">https://stackoverflow.com/questions/1099985/algorithm-for-multiple-word-matching-in-text/1100010#1100010</a></li>
  <li><a href="https://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/5868528#5868528">https://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/5868528#5868528</a></li>
  <li><a href="https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/41576248#41576248">https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/41576248#41576248</a></li>
</ul>


          <p style="margin-top: 30px" class="side-projects-note">
  <small>Unless otherwise mentioned in the post, those projects are side projects which I work on on weekends and evenings, and are not affiliated with my work or employer.</small>
</p>

        </div>
        <style>
          .not-post-page-navigation {
            display: flex;
            justify-content: space-around;
            margin: 1em;
          }
        </style>
        <div class="not-post-page-navigation">
          
          <a href="/blog/if-you-dont-share-your-project-did-you-actually-make-it" title="If you don't share your project, did you actually make it?">&laquo;
            Previous Essay</a>
          
          
        </div>

        <p class="extra-info">
          
          Tags: software engineering, algorithms &nbsp; | &nbsp;
          
          <a href="https://twitter.com/home?status=Hey%20%40getaclue_1%20your%20site%20is%20broken%20/blog/trying-out-aho-corasick-algorithm" target="_blank" class="forkButton"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
 Report a bug via Twitter</a>

        </p>
      </article>
    </div>
  </main>

  <footer class="site-footer">
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          <li>
            <a href="https://github.com/getaclue" target="_blank"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">getaclue</span></a>

          </li>
          <li>
            <a href="https://twitter.com/getaclue_1" target="_blank"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">getaclue_1</span></a>

          </li>
        </ul>
      </div>
    </div>
    <small>Another <a href="https://sugarplumoriginals.com" title="Go to Sugarplum Originals"><strong>Sugarplum
          Originals</strong></a> Productions © 2018</small>
  </div>
</footer>

<script type="text/javascript">
  var links = document.links;
  for (var i = 0, linksLength = links.length; i < linksLength; i++) {
    if (links[i].hostname != window.location.hostname) {
      links[i].target = '_blank';
    }
  }
</script>


</body>

</html>
