<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Jekyll v4.0.0" /><meta property="og:title" content="How to install Sequelize in ExpressJS app with SQLite" /><meta name="author" content="Alex" /><meta property="og:locale" content="en_US" /><meta name="description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><meta property="og:description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><link rel="canonical" href="https://getaclue.me/sequilize-javascript-express" /><meta property="og:url" content="https://getaclue.me/sequilize-javascript-express" /><meta property="og:site_name" content="Alex" /><meta property="og:image" content="https://cdn-std.droplr.net/files/acc_603419/d6bd0B" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-03-18T00:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:image" content="https://cdn-std.droplr.net/files/acc_603419/d6bd0B" /><meta property="twitter:title" content="How to install Sequelize in ExpressJS app with SQLite" /><meta name="twitter:site" content="@lastminutealex" /><meta name="twitter:creator" content="@lastminutealex" /><meta name="google-site-verification" content="j_0ua6jd1va4oFzra32KpYStOsNq9Ve98QboLI-LAN0" /> <script type="application/ld+json"> {"headline":"How to install Sequelize in ExpressJS app with SQLite","dateModified":"2020-03-18T00:00:00-04:00","datePublished":"2020-03-18T00:00:00-04:00","image":"https://cdn-std.droplr.net/files/acc_603419/d6bd0B","author":{"@type":"Person","name":"Alex"},"description":"In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite.","url":"https://getaclue.me/sequilize-javascript-express","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://getaclue.me/sequilize-javascript-express"},"@context":"https://schema.org"}</script><title> How to install Sequelize in ExpressJS app with SQLite - Alex</title><link rel="shortcut icon" href="/favicon.png" /><link rel="alternate" type="application/atom+xml" title="Alex" href="/atom.xml" /><link rel="alternate" type="application/json" title="Alex" href="https://getaclue.me/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /><meta name="google-site-verification" content="j_0ua6jd1va4oFzra32KpYStOsNq9Ve98QboLI-LAN0" /><link rel="canonical" href="https://getaclue.me/sequilize-javascript-express" /><meta name="description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><meta property="og:title" content="How to install Sequelize in ExpressJS app with SQLite" /><meta property="og:url" content="https://getaclue.me/sequilize-javascript-express" /><meta property="og:site_name" content="https://getaclue.me/sequilize-javascript-express" /><meta property="og:description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><meta property="og:locale" content="en_US" /><meta name="twitter:description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><meta property="og:type" content="article" /><meta name="twitter:card" content="summary_large_image" /><meta property="og:image" content="https://cdn-std.droplr.net/files/acc_603419/d6bd0B" /><meta name="twitter:image" content="https://cdn-std.droplr.net/files/acc_603419/d6bd0B" /><meta property="article:tag" content="javascript" /><meta property="article:tag" content="nodejs" /><meta property="article:tag" content="sequelize" /><meta property="article:tag" content="expressjs" /><meta property="article:tag" content="sqlite" /><meta name="author" content="Alex Kluew" /><meta property="article:author" content="https://getaclue.me" /><meta property="article:publisher" content="https://getaclue.me" /><meta property="article:published_time" content="2020-03-18 19:40:32 +0000" /><meta property="article:modified_time" content="2020-03-18 19:40:32 +0000" /><meta property="og:type" content="website" /><meta name="twitter:title" content="Alex" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@" /><link href="/assets/tailwind.css" rel="stylesheet"> <script> // Google Analytics (function(i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; (i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments); }), (i[r].l = 1 * new Date()); (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]); a.async = 1; a.src = g; m.parentNode.insertBefore(a, m); })( window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga' ); ga('create', 'UA-106794469-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script></head><body class="leading-normal tracking-normal text-white gradient bg-gray-100"><style> .navbar { overflow: hidden; background-color: #333; } .navbar a { float: left; font-size: 16px; color: white; text-align: center; padding: 14px 16px; text-decoration: none; } .dropdown { float: left; overflow: hidden; } .dropdown .dropbtn { font-size: 16px; border: none; outline: none; color: white; padding: 14px 16px; background-color: inherit; font-family: inherit; margin: 0; } .navbar a:hover, .dropdown:hover .dropbtn { background-color: red; } .dropdown-content { display: none; position: absolute; background-color: #f9f9f9; min-width: 160px; box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2); z-index: 1; } .dropdown-content a { float: none; color: black; padding: 12px 16px; text-decoration: none; display: block; text-align: left; } .dropdown-content a:hover { background-color: #ddd; } .dropdown:hover .dropdown-content { display: block; }</style><nav class="navbar"> <a href="/"> Home </a> <a href="/about">About</a> <a href="/articles">Articles</a> <a href="/books">Books</a> <a href="/projects">Projects</a> <a href="/services">Services</a> <a href="/now">Contact</a></nav><div class="container w-full md:max-w-3xl mx-auto pt-20"><div class="w-full px-4 md:px-6 text-xl text-gray-800 leading-normal"> <!--Post Content--><link rel="stylesheet" href="https://unpkg.com/@tailwindcss/typography@0.2.x/dist/typography.min.css" /> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BlogPosting", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://google.com/article" }, "headline": "In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite.", "image": { "@type": "ImageObject", "url": "https://cdn-std.droplr.net/files/acc_603419/d6bd0B" }, "author": { "@type": "Person", "name": "Alex Kluew" }, "datePublished": "2020-03-18 19:40:32 +0000" , "dateModified": "2020-03-18 19:40:32 +0000" , "dateCreated": "2020-03-16 19:33:52 +0000" } </script><article class="prose lg:prose-xl" itemscope itemtype="http://schema.org/BlogPosting"><p class="text-base md:text-sm text-green-500 font-bold">&lt; <a href="/articles" class="text-base md:text-sm text-green-500 font-bold no-underline hover:underline">BACK TO ARTICLES</a></p><h1 itemprop="name headline" class="text-center font-bold font-sans break-normal text-gray-900 pt-6 pb-2 text-3xl md:text-4xl">How to install Sequelize in ExpressJS app with SQLite</h1><p class="text-center text-sm md:text-base font-normal text-gray-600" title="Estimated reading time"> Estimated reading time: 6 mins</p><div itemprop="articleBody"><p>Our goal for this project is to see this :</p><p><img src="/assets/images/2020-03-18/goal-sequelize.png" alt="Connection established." style="max-width:100%" /></p><p>Start the project by making the src folder :</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">cd </span>dev/nodejs
<span class="nb">mkdir </span>LeAppWriteup
<span class="nb">cd </span>LeAppWriteup <span class="o">&amp;&amp;</span> npm init</code></pre></figure><p>install the basic dependencies : express, <a href="https://sequelize.org/v5/manual/getting-started.html">sequelize</a>, and sqlite.</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell">npm <span class="nb">install</span> <span class="nt">--save</span> express
npm <span class="nb">install</span> <span class="nt">--save</span> sequelize
npm <span class="nb">install</span> <span class="nt">--save</span> sqlite3</code></pre></figure><p>I wanted to configure the database connection first, so I made a folder called <code class="highlighter-rouge">config</code> and a file for database <code class="highlighter-rouge">db.js</code>. In the file I wrote the following:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// config/db.js</span>
<span class="kd">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">sequelize</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Sequelize</span><span class="p">({</span>
  <span class="na">dialect</span><span class="p">:</span> <span class="dl">"</span><span class="s2">sqlite</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">storage</span><span class="p">:</span> <span class="dl">"</span><span class="s2">leappwriteup.sqlite3</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">db</span><span class="p">;</span>
</code></pre></div></div><p>The configuration above basically follows the readme of the <a href="https://sequelize.org/v5/manual/getting-started.html">sequelize</a> project. We are injecting the sequelize project, then we are instantiating a sequelize object that will use sqlite as its database. After this, I was ready to test the connections. All of the basic building blocks are there. The server, the database, and the connector. We test all three by running the following code in the <code class="highlighter-rouge">index.js</code> file (our start file) :</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// index.js</span>
<span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">express</span><span class="p">.</span><span class="nx">Router</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./config/db</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">// start db</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">authenticate</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Connection established.</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Unable to connect to db: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>

<span class="c1">// start app</span>
<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">app</span><span class="p">;</span>
</code></pre></div></div><p>In the code above we are first injecting the dependent packages : express and database, the code for which is from our text above. We then call the database to establish a connection. If everything works as expected I will see <code class="highlighter-rouge">Connection established.</code> message. Otherwise, I will see the error for why it did not connect to the db. Finally, the express server is started and the entire app is exported for use elsewhere in the code.</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell">node index.js</code></pre></figure><p>Run <code class="highlighter-rouge">node index.js</code> and see your progress. You should see the successful message. Congratulations, you have connected your server to the database and created an empty <code class="highlighter-rouge">sqlite3</code> database file. Otherwise, review your steps or send me a shout ;)</p><hr /><p>This part is totally optional. To interact with the database, we better start off with modeling our data as per <a href="https://sequelize.org/v5/manual/getting-started.html">sequelize</a> documents. I did it by creating the following file in the folder <code class="highlighter-rouge">models</code> :</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">mkdir </span>models
<span class="nb">cd </span>models <span class="o">&amp;&amp;</span> <span class="nb">touch </span>user.js</code></pre></figure><p>I then created the following code in the <code class="highlighter-rouge">user.js</code> file :</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// models/user.js</span>
<span class="kd">const</span> <span class="nx">sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">../config/db</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">DataTypes</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">sequelize</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">User</span> <span class="o">=</span> <span class="nx">sequelize</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="dl">"</span><span class="s2">User</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">email</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DataTypes</span><span class="p">.</span><span class="nx">STRING</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">password</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DataTypes</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">username</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DataTypes</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">token</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DataTypes</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">User</span><span class="p">;</span>
</code></pre></div></div><p>Finally, test all of the code together by interacting with the database. I will do so by creating a seed file and running it.</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">touch</span> ../config/db.seed.js</code></pre></figure><p>In the seed file I want to connect to the database and add one user to the database and save it. After doing that, I want to run my project again to ensure that the connection to the database is established.</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// config/db.seed.js</span>
<span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./db</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">User</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">../models/user</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">seed</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">sync</span><span class="p">({</span> <span class="na">force</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">password</span> <span class="o">=</span> <span class="s2">`M&lt;gC4['Dqv}G''X"Tg4XDbRrmWR46/ca`</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">username</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">getaclue</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">email</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">info@getaclue.me</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="s2">`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwibmFtZSI6ImluZm9AZ2V0YWNsdWUubWUiLCJpYXQiOjE1MTYyMzkwMjJ9.\_lImbjluzsOJSy-hlDzEOasZRSd8YuQ_9hBmmCvSvp0`</span><span class="p">;</span>

  <span class="nx">User</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">password</span><span class="p">:</span> <span class="nx">password</span><span class="p">,</span>
    <span class="na">email</span><span class="p">:</span> <span class="nx">email</span><span class="p">,</span>
    <span class="na">username</span><span class="p">:</span> <span class="nx">username</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="nx">token</span><span class="p">,</span>
  <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">user</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">seeded user</span><span class="dl">"</span><span class="p">,</span> <span class="nx">user</span><span class="p">);</span>
      <span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span> <span class="na">where</span><span class="p">:</span> <span class="p">{</span> <span class="na">email</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">user</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span><span class="s2">`</span> <span class="p">}</span> <span class="p">})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">user</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">found in db after adding</span><span class="dl">"</span><span class="p">);</span>
          <span class="nx">db</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">error looking for new user in db: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
          <span class="nx">db</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
        <span class="p">});</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">failed to seed, </span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="nx">db</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">seed</span><span class="p">();</span>
</code></pre></div></div><p>Once everything is typed out, you can feel free to test everything once again. I ran the follow commands and made sure everything worked as expected.</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell">node config/db.seed.js
node index.js</code></pre></figure><p>Here is what your final folder structure should look like :</p><p><img src="/assets/images/2020-03-18/final_file_structure.png" alt="Final file structure" style="max-width:100%" /></p><p>I have installed <a href="https://sequelize.org/v5/manual/getting-started.html">Sequelize</a> and SQLite in my ExpressJS project; established the connection between ExpressJS and SQLite via <a href="https://sequelize.org/v5/manual/getting-started.html">Sequelize</a>; created Userâ€™s table, added some data, and queried that data. From here on, steps like building out the api; authentication; and authorization can proceed.</p></div><span class="meta" ><time itemprop="datePublished" datetime="2020-03-18T00:00:00-04:00" >March 18, 2020</time > &middot; <a href="/tag/javascript">javascript</a>, <a href="/tag/nodejs">nodejs</a>, <a href="/tag/sequelize">sequelize</a>, <a href="/tag/expressjs">expressjs</a>, <a href="/tag/sqlite">sqlite</a></span ><hr style="border: 5px solid #2ed7fb;" /> <!--Next & Prev Links--><div class="font-sans flex justify-between content-center px-4 pb-12"><div class="text-left"> <span class="text-xs md:text-sm font-normal text-gray-600">&lt; Previous Article</span><br><p><a href="/before-building-authentication-in-javascript" title="What to do before building authentication with ExpressJS app" class="break-normal text-base md:text-sm text-green-500 font-bold no-underline hover:underline">ðŸ‘ˆ What to do before building authentication with ExpressJS app</a></p></div><div class="text-right"> <span class="text-xs md:text-sm font-normal text-gray-600">Next Post &gt;</span><br><p><a href="/bcrypt-expressjs" title="Simple Bcrypt ExpressJS example" class="break-normal text-base md:text-sm text-green-500 font-bold no-underline hover:underline">Simple Bcrypt ExpressJS example ðŸ‘‰</a></p></div></div></article><!--/ Post Content--></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-106794469-1" ></script> <script> function gtag() { dataLayer.push(arguments); } (window.dataLayer = window.dataLayer || []), gtag("js", new Date()), gtag("config", "UA-106794469-1", { anonymize_ip: !0 }); </script> <script> var scrollpos = window.scrollY; var header = document.getElementById("header"); var navcontent = document.getElementById("nav-content"); var navaction = document.getElementById("navAction"); var brandname = document.getElementById("brandname"); var toToggle = document.querySelectorAll(".toggleColour"); document.addEventListener("scroll", function () { /*Apply classes for slide in bar*/ scrollpos = window.scrollY; if (scrollpos > 10) { header.classList.add("bg-white"); navaction.classList.remove("bg-white"); navaction.classList.add("gradient"); navaction.classList.remove("text-gray-800"); navaction.classList.add("text-white"); //Use to switch toggleColour colours for (var i = 0; i < toToggle.length; i++) { toToggle[i].classList.add("text-gray-800"); toToggle[i].classList.remove("text-white"); } header.classList.add("shadow"); navcontent.classList.remove("bg-gray-100"); navcontent.classList.add("bg-white"); } else { header.classList.remove("bg-white"); navaction.classList.remove("gradient"); navaction.classList.add("bg-white"); navaction.classList.remove("text-white"); navaction.classList.add("text-gray-800"); //Use to switch toggleColour colours for (var i = 0; i < toToggle.length; i++) { toToggle[i].classList.add("text-white"); toToggle[i].classList.remove("text-gray-800"); } header.classList.remove("shadow"); navcontent.classList.remove("bg-white"); navcontent.classList.add("bg-gray-100"); } }); </script> <script> /*Toggle dropdown list*/ /*https://gist.github.com/slavapas/593e8e50cf4cc16ac972afcbad4f70c8*/ var navMenuDiv = document.getElementById("nav-content"); var navMenu = document.getElementById("nav-toggle"); document.onclick = check; function check(e) { var target = (e && e.target) || (event && event.srcElement); //Nav Menu if (!checkParent(target, navMenuDiv)) { // click NOT on the menu if (checkParent(target, navMenu)) { // click on the link if (navMenuDiv.classList.contains("hidden")) { navMenuDiv.classList.remove("hidden"); } else { navMenuDiv.classList.add("hidden"); } } else { // click both outside link and outside menu, hide menu navMenuDiv.classList.add("hidden"); } } } function checkParent(t, elm) { while (t.parentNode) { if (t == elm) { return true; } t = t.parentNode; } return false; } </script></body></html>
