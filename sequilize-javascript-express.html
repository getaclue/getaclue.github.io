<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Jekyll v4.0.0" /><meta property="og:title" content="How to install Sequelize in ExpressJS app with SQLite" /><meta name="author" content="Alex Kluew" /><meta property="og:locale" content="en_US" /><meta name="description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><meta property="og:description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><link rel="canonical" href="https://getaclue.me/sequilize-javascript-express" /><meta property="og:url" content="https://getaclue.me/sequilize-javascript-express" /><meta property="og:site_name" content="Alex Kluew" /><meta property="og:image" content="https://cdn-std.droplr.net/files/acc_603419/d6bd0B" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-03-18T00:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:image" content="https://cdn-std.droplr.net/files/acc_603419/d6bd0B" /><meta property="twitter:title" content="How to install Sequelize in ExpressJS app with SQLite" /><meta name="twitter:site" content="@alexkluew_dev" /><meta name="twitter:creator" content="@alexkluew_dev" /><meta name="google-site-verification" content="j_0ua6jd1va4oFzra32KpYStOsNq9Ve98QboLI-LAN0" /> <script type="application/ld+json"> {"headline":"How to install Sequelize in ExpressJS app with SQLite","dateModified":"2020-03-18T00:00:00-04:00","datePublished":"2020-03-18T00:00:00-04:00","image":"https://cdn-std.droplr.net/files/acc_603419/d6bd0B","author":{"@type":"Person","name":"Alex Kluew"},"description":"In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite.","url":"https://getaclue.me/sequilize-javascript-express","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://getaclue.me/sequilize-javascript-express"},"@context":"https://schema.org"}</script><title> How to install Sequelize in ExpressJS app with SQLite - Alex Kluew</title><link rel="shortcut icon" href="/favicon.png" /><link rel="alternate" type="application/atom+xml" title="Alex Kluew" href="/atom.xml" /><link rel="alternate" type="application/json" title="Alex Kluew" href="https://getaclue.me/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /><meta name="google-site-verification" content="j_0ua6jd1va4oFzra32KpYStOsNq9Ve98QboLI-LAN0" /><link rel="canonical" href="https://getaclue.me/sequilize-javascript-express" /><meta name="description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><meta property="og:title" content="How to install Sequelize in ExpressJS app with SQLite" /><meta property="og:url" content="https://getaclue.me/sequilize-javascript-express" /><meta property="og:site_name" content="https://getaclue.me/sequilize-javascript-express" /><meta property="og:description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><meta property="og:locale" content="en_US" /><meta name="twitter:description" content="In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite." /><meta property="og:type" content="article" /><meta name="twitter:card" content="summary_large_image" /><meta property="og:image" content="https://cdn-std.droplr.net/files/acc_603419/d6bd0B" /><meta name="twitter:image" content="https://cdn-std.droplr.net/files/acc_603419/d6bd0B" /><meta property="article:tag" content="javascript" /><meta property="article:tag" content="nodejs" /><meta property="article:tag" content="sequelize" /><meta property="article:tag" content="expressjs" /><meta property="article:tag" content="sqlite" /><meta name="author" content="Alex Kluew" /><meta property="article:author" content="https://getaclue.me" /><meta property="article:publisher" content="https://getaclue.me" /><meta property="article:published_time" content="2020-03-18 19:40:32 +0000" /><meta property="article:modified_time" content="2020-03-18 19:40:32 +0000" /><meta property="og:type" content="website" /><meta name="twitter:title" content="Alex Kluew" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@" /> <script> // Google Analytics (function(i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; (i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments); }), (i[r].l = 1 * new Date()); (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]); a.async = 1; a.src = g; m.parentNode.insertBefore(a, m); })( window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga' ); ga('create', 'UA-106794469-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script><style> @import url("https://rsms.me/inter/inter.css");@import url(https://cdn.jsdelivr.net/gh/tonsky/FiraCode@4/distr/fira_code.css);*,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}div[itemprop="articleBody"]{max-width:600px}@font-face{font-family:"Playfair Display";src:url("../assets/fonts/PlayfairDisplay/PlayfairDisplay-Regular.woff2") format("woff2"),url("../assets/fonts/PlayfairDisplay/PlayfairDisplay-Regular.woff") format("woff"),url("../assets/fonts/PlayfairDisplay/PlayfairDisplay-Regular.ttf") format("truetype"),url("../assets/fonts/PlayfairDisplay/PlayfairDisplay-Regular.svg") format("svg");font-weight:normal;font-style:normal}@font-face{font-family:"Cooper Hewitt";src:url("../assets/fonts/CooperHewitt/CooperHewitt-Book.woff") format("woff"),url("../assets/fonts/CooperHewitt/CooperHewitt-Book.svg") format("svg");font-weight:normal;font-style:normal}html{font-family:"Cooper Hewitt", "Inter", sans-serif}@supports (font-variation-settings: normal){html{font-family:"Cooper Hewitt", "Inter var", sans-serif}}body{-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;line-height:1.5;font-size:15pt;color:#16171a}nav{background:#fbf1a9}nav ul{border-right:10px solid #0074d9}a{color:#111111;text-decoration-skip-ink:auto;text-decoration:underline}pre{margin:0.5rem 0;padding:0.5rem}.post p{margin:0.5rem 0;max-width:100%;text-overflow:ellipsis;overflow:hidden}.post h1,.post h2,.post h3,.post h4{margin:2rem 0}.post h1:first-child,.project h1:first-child,.photo h1:first-child{margin-top:0;font-size:2.25rem;line-height:1.5;font-family:"Playfair Display"}.post h2:first-child,.project h2:first-child,.photo h2:first-child{margin-top:0;font-size:2rem;line-height:1.5;font-family:"Playfair Display"}.meta{margin:2rem 0}code,pre{background:#e3e3e3;color:#111111;border-radius:1em}code{padding:0.1rem;color:#111111;font-family:"Fira Code", "Consolas", "Monaco", "Andale Mono", "Ubuntu Mono", monospace}@supports (font-variation-settings: normal){code{font-family:"Fira Code VF", monospace}}pre code{border:none}pre{padding:1rem;overflow-x:auto}img{max-width:100%}hr{background:#0074d9;height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative;background:#efefef}header div img{width:32px}@media screen and (min-width: 600px){header div img{width:64px}}@media screen and (min-width: 800px){header div img{width:200px}}header a{text-decoration:none}header li{margin-bottom:0.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section,article{max-width:100%;padding-left:1rem;padding-right:1rem}@media screen and (min-width: 600px){header,section,article{padding-top:1rem;padding-bottom:1rem}}blockquote{font-style:italic;border-left:5px solid #0074d9;padding-left:1rem;background:#efefef;color:#111111;border-radius:1em}h1,h2,h3,h4,h5{font-family:"Playfair Display";line-height:1;margin:1rem 0;font-weight:600}article h2:first-child{margin-top:0}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:0.5rem}.posts ul,header ul{list-style:none}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:0.5rem}.posts li a,.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}main{display:flex;flex-wrap:wrap;height:100%;background:#efefef}@media screen and (min-width: 600px){main{max-width:60rem;margin:0 auto}}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:10px solid #0074d9}nav ul{border-right:0px}.photos ul{margin-top:0.5rem}header ul{margin-left:0}}article{height:100%;min-height:100vh;flex-basis:0;flex-grow:999;min-width:70%;display:flex;flex-direction:column;background:#efefef}@media screen and (min-width: 700px){article{align-items:center}}figcaption{font-size:smaller}hr{margin:1rem;border:5px solid #0074d9}mark{background:#fbf1a9}.reading-time{color:#828282}body,h1,h2,h3,h4,h5,h6,p,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0}body{color:#111;background-color:#a89090;-webkit-text-size-adjust:100%;-webkit-font-feature-settings:"kern" 1;-moz-font-feature-settings:"kern" 1;-o-font-feature-settings:"kern" 1;font-feature-settings:"kern" 1;font-kerning:normal}h1,h2,h3,h4,h5,h6,p,blockquote,pre,ul,ol,dl,figure,.highlight{margin-bottom:15px}img{max-width:100%;vertical-align:middle}figure>img{display:block}figcaption{font-size:14.875px}ul,ol{margin-left:30px}li>ul,li>ol{margin-bottom:0}h1,h2,h3,h4,h5,h6{font-weight:400}a{color:#2a7ae2;text-decoration:none}a:visited{color:#1756a9}a:hover{color:#111;text-decoration:underline}.social-media-list a:hover{text-decoration:none}.social-media-list a:hover .username{text-decoration:underline}blockquote{color:#828282;border-left:4px solid #e8e8e8;padding-left:15px;font-size:19.125px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}pre,code{font-size:13.6px;border:1px solid #e8e8e8;border-radius:3px;background-color:#egegeg}code{padding:1px 5px}pre{padding:8px 12px;overflow-x:auto}pre>code{border:0;padding-right:0;padding-left:0}.wrapper{max-width:-webkit-calc(800px - (30px * 2));max-width:calc(800px - (30px * 2));margin-right:auto;margin-left:auto;padding-right:30px;padding-left:30px}@media screen and (max-width: 800px){.wrapper{max-width:-webkit-calc(800px - (30px));max-width:calc(800px - (30px));padding-right:15px;padding-left:15px}}.wrapper:after,.footer-col-wrapper:after{content:"";display:table;clear:both}.icon>svg{display:inline-block;vertical-align:middle}.icon>svg path{fill:#828282}.social-media-list .icon{padding-right:5px}.social-media-list li+li{padding-top:5px}table{margin-bottom:30px;width:100%;text-align:left;color:#3f3f3f;border-collapse:collapse;border:1px solid #e8e8e8}table tr:nth-child(even){background-color:#f7f7f7}table th,table td{padding:10px 15px}table th{background-color:#f0f0f0;border:1px solid #dedede;border-bottom-color:#c9c9c9}table td{border:1px solid #e8e8e8}.site-header{border-top:5px solid #424242;border-bottom:1px solid #e8e8e8;min-height:55.95px;position:relative}.site-title{font-size:27.625px;font-weight:300;line-height:95.625px;letter-spacing:-1px;margin-bottom:0;float:left}.site-title,.site-title:visited{color:#424242}.site-nav{float:right;line-height:95.625px}.site-nav .nav-trigger{display:none}.site-nav .menu-icon{display:none}.site-nav .page-link{color:#111;line-height:2.5}.site-nav .page-link:not(:last-child){margin-right:20px}@media screen and (max-width: 600px){.site-nav{position:absolute;top:9px;right:15px;background-color:#a89090;border:1px solid #e8e8e8;border-radius:5px;text-align:right}.site-nav label[for='nav-trigger']{display:block;float:right;width:36px;height:36px;z-index:2;cursor:pointer}.site-nav .menu-icon{display:block;float:right;width:36px;height:26px;line-height:0;padding-top:10px;text-align:center}.site-nav .menu-icon>svg path{fill:#424242}.site-nav input ~ .trigger{clear:both;display:none}.site-nav input:checked ~ .trigger{display:block;padding-bottom:5px}.site-nav .page-link{display:block;padding:5px 10px;margin-left:20px}.site-nav .page-link:not(:last-child){margin-right:0}}.site-footer{border-top:1px solid #e8e8e8;padding:30px 0}.footer-heading{font-size:19.125px;margin-bottom:15px}.contact-list,.social-media-list{list-style:none;margin-left:0}.footer-col-wrapper{font-size:15.9375px;color:#828282;margin-left:-15px}.footer-col{float:left;margin-bottom:15px;padding-left:15px}.footer-col-1{width:-webkit-calc(35% - (30px / 2));width:calc(35% - (30px / 2))}.footer-col-2{width:-webkit-calc(20% - (30px / 2));width:calc(20% - (30px / 2))}.footer-col-3{width:-webkit-calc(45% - (30px / 2));width:calc(45% - (30px / 2))}@media screen and (max-width: 800px){.footer-col-1,.footer-col-2{width:-webkit-calc(50% - (30px / 2));width:calc(50% - (30px / 2))}.footer-col-3{width:-webkit-calc(100% - (30px / 2));width:calc(100% - (30px / 2))}}@media screen and (max-width: 600px){.footer-col{float:none;width:-webkit-calc(100% - (30px / 2));width:calc(100% - (30px / 2))}}.not-apple{background:#f2f2f2}blockquote strong{font-weight:bold;background:#fbf1a9;text-shadow:none}::selection{background:#fbf1a9;text-shadow:none}.not-post{background-color:#fff;border:1px solid #e9e9e9;border-top-color:#e9e9e9;border-top-style:solid;border-top-width:1px;border-top:0;box-shadow:0 0 1px rgba(0,0,0,0.07);display:block;min-height:calc(100% - 173px);min-height:-moz-calc(100% - 173px);min-height:-webkit-calc(100% - 173px);min-height:-o-calc(100% - 173px);overflow:auto;overflow-x:auto;margin:1em;padding:1em;-webkit-overflow-scrolling:touch;width:734px;max-width:95vw}.post{max-width:95vw}.not-header{background-color:#414141;box-shadow:0 1px 1px rgba(0,0,0,0.07);color:#fff;height:48px;letter-spacing:0.05em;position:fixed;bottom:0;width:100%;z-index:4}@media screen and (min-width: 800px){.post{max-width:60vw}.not-header{top:0}.not-post{margin-top:48px}}.page-content{padding:30px 0}.page-heading{font-size:21.25px}.post-list{margin-left:0;list-style:none}.post-list>li{margin-bottom:30px}.post-meta{font-size:14.875px;color:#828282}.post-link{display:block;font-size:25.5px}.post-header{margin-bottom:30px}.post-title{font-size:44.625px;letter-spacing:-1px;line-height:1}@media screen and (max-width: 800px){.post-title{font-size:38.25px}}.post-content{margin-bottom:30px}.post-content h2{font-size:34px}@media screen and (max-width: 800px){.post-content h2{font-size:29.75px}}.post-content h3{font-size:27.625px}@media screen and (max-width: 800px){.post-content h3{font-size:23.375px}}.post-content h4{font-size:21.25px}@media screen and (max-width: 800px){.post-content h4{font-size:19.125px}}.highlight{background:#egegeg}.highlighter-rouge .highlight{background:#egegeg}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#008080}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#008080}.highlight .ni{color:#800080}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#000080}.highlight .nv{color:#008080}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:#008080}.highlight .vg{color:#008080}.highlight .vi{color:#008080}.highlight .il{color:#099}</style></head><body><main role="main"><header role="banner"><nav role="navigation"><ul><li><a href="/about" >About</a></li><li><a href="/articles" >Articles</a></li><li><a href="/books" >Books</a></li><li><a href="/projects" >Projects</a></li><li><a href="/search" >Search</a></li><li><a href="/services" >Services</a></li></ul></nav><div> <a href="/"><img src="/assets/profile-image.png" /></a><p> Thanks for visiting! - Alex</p></div></header><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BlogPosting", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://google.com/article" }, "headline": "In this article I will show you how to install Sequelize for use in a basic ExpressJS app with SQLite.", "image": { "@type": "ImageObject", "url": "https://cdn-std.droplr.net/files/acc_603419/d6bd0B" }, "author": { "@type": "Person", "name": "Alex Kluew" }, "datePublished": "2020-03-18 19:40:32 +0000" , "dateModified": "2020-03-18 19:40:32 +0000" , "dateCreated": "2020-03-16 19:33:52 +0000" } </script><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><h1 itemprop="name headline">How to install Sequelize in ExpressJS app with SQLite</h1><span class="reading-time" title="Estimated reading time"> Estimated reading time: 6 mins </span><div itemprop="articleBody"><p>Our goal for this project is to see this :</p><p><img src="/assets/images/2020-03-18/goal-sequelize.png" alt="Connection established." style="max-width:100%" /></p><p>Start the project by making the src folder :</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">cd </span>dev/nodejs
<span class="nb">mkdir </span>LeAppWriteup
<span class="nb">cd </span>LeAppWriteup <span class="o">&amp;&amp;</span> npm init</code></pre></figure><p>install the basic dependencies : express, <a href="https://sequelize.org/v5/manual/getting-started.html">sequelize</a>, and sqlite.</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell">npm <span class="nb">install</span> <span class="nt">--save</span> express
npm <span class="nb">install</span> <span class="nt">--save</span> sequelize
npm <span class="nb">install</span> <span class="nt">--save</span> sqlite3</code></pre></figure><p>I wanted to configure the database connection first, so I made a folder called <code class="highlighter-rouge">config</code> and a file for database <code class="highlighter-rouge">db.js</code>. In the file I wrote the following:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// config/db.js</span>
<span class="kd">const</span> <span class="nx">Sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">sequelize</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Sequelize</span><span class="p">({</span>
  <span class="na">dialect</span><span class="p">:</span> <span class="dl">"</span><span class="s2">sqlite</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">storage</span><span class="p">:</span> <span class="dl">"</span><span class="s2">leappwriteup.sqlite3</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">db</span><span class="p">;</span>
</code></pre></div></div><p>The configuration above basically follows the readme of the <a href="https://sequelize.org/v5/manual/getting-started.html">sequelize</a> project. We are injecting the sequelize project, then we are instantiating a sequelize object that will use sqlite as its database. After this, I was ready to test the connections. All of the basic building blocks are there. The server, the database, and the connector. We test all three by running the following code in the <code class="highlighter-rouge">index.js</code> file (our start file) :</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// index.js</span>
<span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">express</span><span class="p">.</span><span class="nx">Router</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./config/db</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">// start db</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">authenticate</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Connection established.</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Unable to connect to db: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>

<span class="c1">// start app</span>
<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">app</span><span class="p">;</span>
</code></pre></div></div><p>In the code above we are first injecting the dependent packages : express and database, the code for which is from our text above. We then call the database to establish a connection. If everything works as expected I will see <code class="highlighter-rouge">Connection established.</code> message. Otherwise, I will see the error for why it did not connect to the db. Finally, the express server is started and the entire app is exported for use elsewhere in the code.</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell">node index.js</code></pre></figure><p>Run <code class="highlighter-rouge">node index.js</code> and see your progress. You should see the successful message. Congratulations, you have connected your server to the database and created an empty <code class="highlighter-rouge">sqlite3</code> database file. Otherwise, review your steps or send me a shout ;)</p><hr /><p>This part is totally optional. To interact with the database, we better start off with modeling our data as per <a href="https://sequelize.org/v5/manual/getting-started.html">sequelize</a> documents. I did it by creating the following file in the folder <code class="highlighter-rouge">models</code> :</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">mkdir </span>models
<span class="nb">cd </span>models <span class="o">&amp;&amp;</span> <span class="nb">touch </span>user.js</code></pre></figure><p>I then created the following code in the <code class="highlighter-rouge">user.js</code> file :</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// models/user.js</span>
<span class="kd">const</span> <span class="nx">sequelize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">../config/db</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">DataTypes</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">sequelize</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">User</span> <span class="o">=</span> <span class="nx">sequelize</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="dl">"</span><span class="s2">User</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">email</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DataTypes</span><span class="p">.</span><span class="nx">STRING</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">password</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DataTypes</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">username</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DataTypes</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">token</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DataTypes</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">User</span><span class="p">;</span>
</code></pre></div></div><p>Finally, test all of the code together by interacting with the database. I will do so by creating a seed file and running it.</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">touch</span> ../config/db.seed.js</code></pre></figure><p>In the seed file I want to connect to the database and add one user to the database and save it. After doing that, I want to run my project again to ensure that the connection to the database is established.</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// config/db.seed.js</span>
<span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./db</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">User</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">../models/user</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">seed</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">sync</span><span class="p">({</span> <span class="na">force</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">password</span> <span class="o">=</span> <span class="s2">`M&lt;gC4['Dqv}G''X"Tg4XDbRrmWR46/ca`</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">username</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">getaclue</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">email</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">info@getaclue.me</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="s2">`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwibmFtZSI6ImluZm9AZ2V0YWNsdWUubWUiLCJpYXQiOjE1MTYyMzkwMjJ9.\_lImbjluzsOJSy-hlDzEOasZRSd8YuQ_9hBmmCvSvp0`</span><span class="p">;</span>

  <span class="nx">User</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">password</span><span class="p">:</span> <span class="nx">password</span><span class="p">,</span>
    <span class="na">email</span><span class="p">:</span> <span class="nx">email</span><span class="p">,</span>
    <span class="na">username</span><span class="p">:</span> <span class="nx">username</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="nx">token</span><span class="p">,</span>
  <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">user</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">seeded user</span><span class="dl">"</span><span class="p">,</span> <span class="nx">user</span><span class="p">);</span>
      <span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span> <span class="na">where</span><span class="p">:</span> <span class="p">{</span> <span class="na">email</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">user</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span><span class="s2">`</span> <span class="p">}</span> <span class="p">})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">user</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">found in db after adding</span><span class="dl">"</span><span class="p">);</span>
          <span class="nx">db</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">error looking for new user in db: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
          <span class="nx">db</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
        <span class="p">});</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">failed to seed, </span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="nx">db</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">seed</span><span class="p">();</span>
</code></pre></div></div><p>Once everything is typed out, you can feel free to test everything once again. I ran the follow commands and made sure everything worked as expected.</p><figure class="highlight"><pre><code class="language-shell" data-lang="shell">node config/db.seed.js
node index.js</code></pre></figure><p>Here is what your final folder structure should look like :</p><p><img src="/assets/images/2020-03-18/final_file_structure.png" alt="Final file structure" style="max-width:100%" /></p><p>I have installed <a href="https://sequelize.org/v5/manual/getting-started.html">Sequelize</a> and SQLite in my ExpressJS project; established the connection between ExpressJS and SQLite via <a href="https://sequelize.org/v5/manual/getting-started.html">Sequelize</a>; created User’s table, added some data, and queried that data. From here on, steps like building out the api; authentication; and authorization can proceed.</p></div><span class="meta" ><time itemprop="datePublished" datetime="2020-03-18T00:00:00-04:00" >March 18, 2020</time > &middot; <a href="/tag/javascript">javascript</a>, <a href="/tag/nodejs">nodejs</a>, <a href="/tag/sequelize">sequelize</a>, <a href="/tag/expressjs">expressjs</a>, <a href="/tag/sqlite">sqlite</a></span ><hr style="border: 5px solid #2ed7fb; width: 69%" /><style> .not-post-page-navigation { display: flex; justify-content: space-around; margin: 1em; width: 100%; }</style><div class="not-post-page-navigation"> <a href="/before-building-authentication-in-javascript" title="What to do before building authentication with ExpressJS app" >👈 What to do before building authentication with ExpressJS app</a > <br /> <a href="/bcrypt-expressjs" title="Simple Bcrypt ExpressJS example" >Simple Bcrypt ExpressJS example 👉</a ></div><hr style="border: 5px solid #95ec8c; width: 69%" /> <!--<span class="meta"><time datetime="2020-03-18T00:00:00-04:00">March 18, 2020</time> &middot; <a class="post" href="/tag/javascript">javascript</a>, <a class="post" href="/tag/nodejs">nodejs</a>, <a class="post" href="/tag/sequelize">sequelize</a>, <a class="post" href="/tag/expressjs">expressjs</a>, <a class="post" href="/tag/sqlite">sqlite</a></span> --> <script async data-uid="6893f61e23" src="https://wondrous-experimenter-4427.ck.page/6893f61e23/index.js" ></script><hr style="border: 5px solid #7ac5c5; width: 69%" /> <center style="padding-top: 1rem"> ⭐️ <a href="https://learnnodejs.dev/">Learn Node.js</a> ⭐️ </center></article></main><script async src="https://www.googletagmanager.com/gtag/js?id=UA-106794469-1" ></script> <script> function gtag() { dataLayer.push(arguments); } (window.dataLayer = window.dataLayer || []), gtag("js", new Date()), gtag("config", "UA-106794469-1", { anonymize_ip: !0 }); </script> <script async data-uid="f3fa648df8" src="https://wondrous-experimenter-4427.ck.page/f3fa648df8/index.js" ></script></body></html>
